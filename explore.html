<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‘˜ëŸ¬ë³´ê¸° - ë‚˜ë§Œì˜ ë„ì„œê´€</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;700&family=Pretendard:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- í—¤ë” -->
    <header class="main-header">
        <div class="header-content">
            <a href="index.html" class="logo">
                <span class="logo-icon">ğŸ“š</span>
                <span class="logo-text">ë‚˜ë§Œì˜ ë„ì„œê´€</span>
            </a>
            <nav class="main-nav">
                <a href="index.html" class="nav-link">í™ˆ</a>
                <a href="explore.html" class="nav-link active">ë‘˜ëŸ¬ë³´ê¸°</a>
                <a href="my-library.html" class="nav-link">ë‚´ ë„ì„œê´€</a>
                <a href="add-book.html" class="nav-link add-book-btn">+ ì±… ì¶”ê°€</a>
            </nav>
            <div class="header-actions">
                <button class="search-toggle" onclick="toggleSearch()">ğŸ”</button>
                <button class="theme-toggle" onclick="toggleTheme()">ğŸŒ™</button>
            </div>
        </div>
        <div class="search-bar" id="searchBar">
            <input type="text" id="searchInput" placeholder="ì±… ì œëª©, ì €ì, í‚¤ì›Œë“œë¡œ ê²€ìƒ‰..." onkeyup="handleSearch(event)">
            <button onclick="performSearch()">ê²€ìƒ‰</button>
        </div>
    </header>

    <main style="max-width:1400px;margin:0 auto;padding:2rem;">
        <!-- í˜ì´ì§€ í—¤ë” -->
        <div class="section-header">
            <h1 class="section-title" id="exploreTitle">ëª¨ë“  ì±…</h1>
            <div style="display:flex;gap:0.5rem;">
                <select onchange="sortBooks(this.value)" class="form-select" style="padding:0.6rem 1rem;min-width:auto;">
                    <option value="recent">ìµœì‹ ìˆœ</option>
                    <option value="popular">ì¸ê¸°ìˆœ</option>
                    <option value="rating">í‰ì ìˆœ</option>
                </select>
            </div>
        </div>

        <!-- ì¹´í…Œê³ ë¦¬ í•„í„° -->
        <div style="display:flex;gap:0.5rem;flex-wrap:wrap;margin-bottom:2rem;">
            <button class="category-filter" data-category="all" onclick="window.location.href='explore.html'" 
                    style="padding:0.5rem 1rem;border-radius:20px;border:2px solid var(--border-color);background:var(--bg-card);cursor:pointer;transition:all 0.3s;">
                ì „ì²´
            </button>
            <button class="category-filter" data-category="0" onclick="filterByCategory(0)"
                    style="padding:0.5rem 1rem;border-radius:20px;border:2px solid var(--border-color);background:var(--bg-card);cursor:pointer;transition:all 0.3s;">
                ğŸ“š ì´ë¥˜
            </button>
            <button class="category-filter" data-category="1" onclick="filterByCategory(1)"
                    style="padding:0.5rem 1rem;border-radius:20px;border:2px solid var(--border-color);background:var(--bg-card);cursor:pointer;transition:all 0.3s;">
                ğŸ¤” ì² í•™
            </button>
            <button class="category-filter" data-category="2" onclick="filterByCategory(2)"
                    style="padding:0.5rem 1rem;border-radius:20px;border:2px solid var(--border-color);background:var(--bg-card);cursor:pointer;transition:all 0.3s;">
                ğŸ™ ì¢…êµ
            </button>
            <button class="category-filter" data-category="3" onclick="filterByCategory(3)"
                    style="padding:0.5rem 1rem;border-radius:20px;border:2px solid var(--border-color);background:var(--bg-card);cursor:pointer;transition:all 0.3s;">
                ğŸ”¬ ìì—°ê³¼í•™
            </button>
            <button class="category-filter" data-category="4" onclick="filterByCategory(4)"
                    style="padding:0.5rem 1rem;border-radius:20px;border:2px solid var(--border-color);background:var(--bg-card);cursor:pointer;transition:all 0.3s;">
                âš™ï¸ ê¸°ìˆ ê³¼í•™
            </button>
            <button class="category-filter" data-category="5" onclick="filterByCategory(5)"
                    style="padding:0.5rem 1rem;border-radius:20px;border:2px solid var(--border-color);background:var(--bg-card);cursor:pointer;transition:all 0.3s;">
                ğŸ¨ ì˜ˆìˆ 
            </button>
            <button class="category-filter" data-category="6" onclick="filterByCategory(6)"
                    style="padding:0.5rem 1rem;border-radius:20px;border:2px solid var(--border-color);background:var(--bg-card);cursor:pointer;transition:all 0.3s;">
                ğŸ’¬ ì–¸ì–´
            </button>
            <button class="category-filter" data-category="7" onclick="filterByCategory(7)"
                    style="padding:0.5rem 1rem;border-radius:20px;border:2px solid var(--border-color);background:var(--bg-card);cursor:pointer;transition:all 0.3s;">
                âœï¸ ë¬¸í•™
            </button>
            <button class="category-filter" data-category="8" onclick="filterByCategory(8)"
                    style="padding:0.5rem 1rem;border-radius:20px;border:2px solid var(--border-color);background:var(--bg-card);cursor:pointer;transition:all 0.3s;">
                ğŸ›ï¸ ì—­ì‚¬
            </button>
        </div>

        <!-- ì±… ê·¸ë¦¬ë“œ -->
        <div class="books-grid" id="exploreGrid">
            <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
        </div>
    </main>

    <!-- í‘¸í„° -->
    <footer class="main-footer">
        <div class="footer-bottom">
            <p>Â© 2024 ë‚˜ë§Œì˜ ë„ì„œê´€. GitHub Pagesë¡œ ìš´ì˜ë©ë‹ˆë‹¤.</p>
        </div>
    </footer>

    <script src="js/storage.js"></script>
    <script src="js/app.js"></script>
    <script>
        // í˜„ì¬ URLì˜ ì¹´í…Œê³ ë¦¬ íŒŒë¼ë¯¸í„°ì— ë”°ë¼ í•„í„° ë²„íŠ¼ í™œì„±í™”
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const category = urlParams.get('category');
            
            document.querySelectorAll('.category-filter').forEach(btn => {
                btn.style.borderColor = 'var(--border-color)';
                btn.style.background = 'var(--bg-card)';
            });
            
            if (category !== null) {
                const activeBtn = document.querySelector(`.category-filter[data-category="${category}"]`);
                if (activeBtn) {
                    activeBtn.style.borderColor = 'var(--accent-primary)';
                    activeBtn.style.background = 'var(--accent-light)';
                }
            } else {
                const allBtn = document.querySelector('.category-filter[data-category="all"]');
                if (allBtn) {
                    allBtn.style.borderColor = 'var(--accent-primary)';
                    allBtn.style.background = 'var(--accent-light)';
                }
            }
            
            // ì •ë ¬ ì˜µì…˜ ì„ íƒ
            const sort = urlParams.get('sort');
            if (sort) {
                const selectEl = document.querySelector('select');
                if (selectEl) {
                    selectEl.value = sort;
                }
            }
        });
    </script>
</body>
</html>

